%----------------------------------------------------------------------------------------
%    PAGE ADJUSTMENTS
%----------------------------------------------------------------------------------------

\documentclass[12pt,a4paper]{scrartcl}            % Article 12pt font for a4 paper while hiding links
\usepackage[margin=1.25in]{geometry}                          % Required to adjust margins

%----------------------------------------------------------------------------------------
%    TYPE SETTING PACKAGES
%----------------------------------------------------------------------------------------

\usepackage[english]{babel}                                % English language/hyphenation
\usepackage[utf8x]{inputenc}                               % Accept different input encodings
\usepackage{amsmath,amsfonts,amsthm,amssymb}               % Math packages to use equations
\usepackage{siunitx}                                       % Scientific units and numbering
\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}    % Set color of text/background
\linespread{1}                                           % Default line spacing size
% \usepackage{microtype}                                     % Improves spacing in the document
% \usepackage{setspace}                                      % Set line spacing dynamically
\usepackage{tocloft}                                       % List adjustments including ToC
\DeclareMathOperator*{\argmin}{arg\!\min}
\definecolor{purple}{HTML}{7A68A6}
\definecolor{blue}{HTML}{2020A1}
\definecolor{red}{HTML}{A60628}
%----------------------------------------------------------------------------------------
%    FIGURES
%----------------------------------------------------------------------------------------

\usepackage{graphicx}                                      % Required for the inclusion of images
\graphicspath{{./model/figures/}}                          % Specifies picture directory
\usepackage{float}                                         % Allows putting an [H] in \begin{figure}
\usepackage{wrapfig}                                       % Allows in-line images

\usepackage[colorlinks=true, citecolor=blue]{hyperref}     % References
\usepackage{cleveref}                                      % Better References
%\crefname{lstlisting}{listing}{listings}
%\Crefname{lstlisting}{Listing}{Listings}
\crefname{figure}{figure}{figures}
\Crefname{figure}{Figure}{Figures}

%----------------------------------------------------------------------------------------
%    INCLUDE CODE
%----------------------------------------------------------------------------------------

\usepackage{listings}                                      % Package so code looks pretty
\lstset{
language=Python,                                           % Choose the language
basicstyle=\footnotesize,                                  % The size of the fonts used
numbers=left,                                              % Where to put the line-numbers
numberstyle=\footnotesize,                                 % The size of the line-numbers
stepnumber=1,                                              % The step line-numbers
numbersep=5pt,                                             % How far the line-numbers are from the code
backgroundcolor=\color{white},                             % Choose the background color
showspaces=false,                                          % Show spaces adding partiular underscores
showstringspaces=false,                                    % Underline spaces within strings
showtabs=false,                                            % Show tabs within strings adding particular underscores
frame=single,                                              % Adds a frame around the code
tabsize=2,                                                 % Sets default tabsize to 2 spaces
captionpos=b,                                              % Sets the caption-position to bottom
breaklines=true,                                           % Sets automatic line breaking
breakatwhitespace=false,                                   % Sets if automatic breaks should only happen at whitespace
escapeinside={\%*}{*)}                                     % If you want to add a comment within your code
}

\usepackage[T1]{fontenc}
% \usepackage{inconsolata}


%----------------------------------------------------------------------------------------
%    EXTRAS
%----------------------------------------------------------------------------------------

% \usepackage{attachfile}                                    % Attach files to your document
% \usepackage{fancyhdr}                                      % Fancy Header
\usepackage{natbib}

\begin{document}

%----------------------------------------------------------------------------------------
%    COMMANDS
%----------------------------------------------------------------------------------------

% \renewcommand*\thesection{\arabic{section}}                % Renew section numbers
% \renewcommand{\labelenumi}{\alph{enumi}.}                  % Section ordered numbering
% \let\oldvec\vec                                            % Save the old vector style
% \renewcommand{\vec}[1]{\oldvec{\mathbf{#1}}}               % Set vectors to look like vectors

% \renewcommand{\contentsname}{Table of Contents}            % Make ToC actually say ToC
% \addtocontents{toc}{~\hfill\textbf{Page}\par}              % Add 'page' to top of ToC
% \renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}      % Makes dots leading up to page number
% \setcounter{tocdepth}{3}                                   % Depth of ToC
% \setcounter{lofdepth}{3}                                   % Depth of LoF

% \pagestyle{plain}                                          % Fancy page style for headers
% \setlength{\headheight}{15pt}                              % Change header hieght
% \fancyhead[L,LO]{\fontsize{8}{10} \selectfont \firstmark}  % Adds header to left with section name
% \fancyhead[R,RO]{\fontsize{8}{10} \selectfont Right}       % Adds header to right
\definecolor{grey}{HTML}{cccccc}                           % The next 4 lines modifies the header (color)
% \renewcommand{\headrulewidth}{1px}
% \renewcommand{\headrule}{{\color{grey}%
% \hrule width\headwidth height\headrulewidth%
% \vskip-\headrulewidth}}

\numberwithin{equation}{section}                           % Number equations within sections
\numberwithin{figure}{section}                             % Number figures within sections
\numberwithin{table}{section}                              % Number tables within sections
\numberwithin{lstlisting}{section}                         % Number listings within sections

% \renewcommand{\sfdefault}{phv}                             % Change default font
% \renewcommand{\familydefault}{\sfdefault}                  % Use default font everywhere
\newcommand{\Lagr}{\mathcal{L}}
\newcommand{\tvect}[2]{%
  \ensuremath{\Bigl(\negthinspace\begin{smallmatrix}#1\\#2\end{smallmatrix}\Bigr)}}

\makeatletter
\def\blfootnote{\xdef\@thefnmark{}\@footnotetext}
\makeatother


%----------------------------------------------------------------------------------------
%    TITLE PAGE
%----------------------------------------------------------------------------------------

% \begin{titlepage}
\title{Monetary Policy with the Zero-Lower Bound and Wage Rigidities}
\subtitle{Research Proposal for Second-Year Paper}
\author{Tom Augspurger}                               % via Seth Miers

%----------------------------------------------------------------------------------------
%    CONTENT
%----------------------------------------------------------------------------------------

\begin{abstract}
I use a simplified New Keynesian model to explore how downward nominal wage rigidities affect welfare and optimal monetary policy.

\end{abstract}

\section{Introduction}
\label{sec:introduction}

Wage rigidities and their importance 

One interesting result from prior research on wage rigidities is that idiosyncratic shocks to labor are important for generating aggregate effects on output or employment.\footnote{
This is stressed in \cite{elsby_2009}, \cite{benigno_ricci_2011}, and \cite{daly_hobijn_2013}.}
\cite{daly_hobijn_2013} \emph{assert} that ``models need to include heterogeneous shocks to the labor supply or productivity of workers. Such shocks are necessary to make nominal wage cuts desirable when the economy is in steady state.''
I will describe my setup more fully later, but for now bear in mind that these idiosyncratic shocks are something of a linchpin to my story.
While we can see how idiosyncratic shocks will distort relative prices, at this time I do not have a compelling explanation for how much these shock matter or what their worldly counterpart is.\footnote{
Interestingly, \cite{golosov_lucas_2007} introduced similar idiosyncratic shocks in a model with menu costs.
Their motivation was to reconcile the level of aggregate inflation with individual price changes;
aggregate shocks alone could not produce the observed dynamics.
}
At the very least I will be able to benchmark my model with idiosyncratic shocks against a model with only aggregate shocks to quantify the difference.

%----------------------------------------------------------------------------------------
\section{Literature Review}
\label{sec:literature_review}
Reviews of the wage rigidity literature almost invariably start with a ``ritual piety'' \citep{tobin_1972} to Keynes's \emph{General Theory} and his discussion of downward nominal wage rigidity.
I'll skip that and start with Tobin himself.
\cite{tobin_1972} argued that inflation could ``grease the wheels'' of the labor market.
For whatever reason, nominal wages appear to be especially rigid in the downward direction.
Positive inflation helps to erode this rigidity;
over time, a worker whose wage is ``too high'' will have his wage brought back in line by inflation.

Numerous studies have found evidence for wage rigidity across various countries.
While the specific details of wage rigidity vary across countries, a few common themes emerge:
wage changes are clustered at the median and have many extreme value relative to the normal distribution.  Also, the distribution of wage changes is asymmetric.  There are fewer wage cuts than raises \citep{dickens_et_al_2006}.

The apparent tradeoff between inflation and unemployment, the Phillips Curve, has been thoroughly discussed in prior research.
Thanks to the assumption of price stickiness New Keynesian models typically recommend an optimal inflation rate of zero \citep{schmitt-grohe_uribe_2010}.
In practice, most central banks explicitly or implicitly target an inflation rate of about 2\%.
Economists have taken various tacks to reconcile the model's recommendations with reality.
\cite{benigno_ricci_2011} developed a model that recommends non-zero inflation by including \emph{idiosyncratic} shocks and \emph{downward nominal wage rigidity.}

\section{The Model}
\label{sec:the_model}

I follow \cite{daly_hobijn_2013} who presented a simplified version of \cite{benigno_ricci_2011}.
We'll set up a model with a continuum of individuals, making up the representative household, who sell their labor services to a perfectly competitive final goods producers.
Individuals receive idiosyncratic shocks to their labor preference and face an exogenous impediment to lowering nominal wages.

\subsection{Production}
\label{sub:production}

There is a single producer who hires labor from the representative household and (linearly) transforms it into output, $Y_t$.

\begin{equation} \label{eq:agg_output}
    L_t = Y_t.
\end{equation}

Aggregate labor \(L_t\) is defined to be the integral over each individual's labor \(L_t(i)\):
%
\begin{equation} \label{eq:agg_labor}
    L_t = \left[ \int_0^1 L_t(i)^{\frac{\eta - 1}{\eta}} \mathrm{d}i \right]^{\frac{\eta}{\eta - 1}}
\end{equation}
%
where $\eta$ is the usual elasticity of substitution among the different types of labor.
% Since the different types of labor are not perfect substitutes (for $\eta < \infty$), the workers will charge a markup over the perfect competition equilibrium wage.

To simplify the aggregation process, I assume that there is a single final good producer who operates in a perfectly competitive market.
This final good producer's problem is to maximize profits (which will be zero in equilibrium):

\begin{equation} \label{eq:firms_problem}
    \max_{L_t(i)} P_t L_t - \int_0^1 W_t(i)L_t(i)
\end{equation}
% 
taking individual wages $W_t(i)$ and the aggregate price level $P_t$ as given.
% Having the final good producer hire labor rather than monopolisitcally-competitive intermediate producers, as is more common, is done for tractability. awkward

As shown in the appendix, solving this problem yields labor demand curves for each individual's labor:

\begin{equation}
    \label{eq:labor_demand}
    L_t(i) = \left( \frac{W_t(i)}{W_t} \right)^{-\eta}L_t = (w_{it})^{-\eta}L_t.
\end{equation}

In \ref{eq:labor_demand}, $W_t$ is the aggregate wage index, defined to be

\begin{equation} \label{eq:wage_index}
    W_t = \left[\int_{0}^{1}\left(\frac{1}{W_t(i)}\right)^{\eta - 1} \mathrm{d}i \right]^{-\frac{1}{\eta - 1}}.
\end{equation}

Due to perfect competition we know that the aggregate price level must equal the aggregate wage index, $P_t = W_t$.  This implies that the real aggregate wage index is always equal to one and so
%
\begin{equation} \label{eq:real_wage}
    1 = \frac{W_t}{P_t} = \left[\int_{0}^{1} \left( \frac{P_t}{W_t(i)} \right)^{\eta - 1} \mathrm{d}i \right]^{-\frac{1}{\eta - 1} } = \left[\int_{0}^{1} \! w_{it}^{1 - \eta} \mathrm{d}i \right]^{ \frac{1}{1 - \eta} }
\end{equation}
%
where $w_{it}$ is the real wage charged by individual $i$.  We'll use \ref{eq:real_wage} to close the model.

Aside from the lack of monopolistically-competitive intermediate producers, the production side of the economy is standard.
The interesting choices in the model are made by the individuals, to whom we turn next.

\subsection{The Household}
\label{sub:The Household}

There is a representative household made up of a continuum of individuals.
As in \cite{erceg_henderson_levin_1999} individuals can share consumption risk perfectly, but make wage setting decisions on their own.
Once an individual has chosen a wage, he then supplies as much labor as is demanded by the firm.

The household's utility function is

\begin{equation} \label{eq:utility}
    \sum_{t=0}^{\infty} \beta^t \left\{\ln Y_t - \frac{\gamma}{\gamma + 1} \int_{0}^{1} Z_t(i)L_t(i)^{\frac{\gamma + 1}{\gamma}}\mathrm{d}i\right\}
\end{equation}

where $\gamma > 0$ is the elasticity of labor supply and $\beta \in (0, 1)$ is the discount factor.
The import bit of this utility function is that the labor preference shocks, $Z_t(i)$ are specific to each individual.
Note that I've already substituted in the market clearing condition that consumption equal output;
There's no capital or government spending in this model.

The utility function is maximized subject to the household budget constraint:

\begin{equation}
    \label{eq:budget}
    P_t Y_t + A_t = \left(1 + i_{t-1}\right)A_{t-1} + \int_{0}^{1}\! W_t(i)L_t(i)\mathrm{d}i
\end{equation}

where $A_t$ is the level of nominal assets held by the household at time $t$ and $i$ is the nominal interest rate.
Since there is just the single household, $A_t$ will be zero in equilibrium.
Individuals also take their labor demand curve \ref{eq:labor_demand} as given.
So, all else equal, individuals will work more the lower their own real wage or the higher aggregate output.

The household also takes the paths of aggregate wages, output, and the final good's price $\left\{W_t, L_t, P_t \right\}_{t=0}^{\infty}$ as given.

I'll assume that the idiosyncratic shocks to labor preference come from a lognormal distribution, i.i.d.\ across individuals and time:

\begin{equation}
    \label{eq:shock_dist}
    \ln(Z) \sim \mathcal{N}\left(-\frac{\sigma^2}{2}, \sigma\right)
\end{equation}

so that $\mathbb{E}(Z) = 1$.
This particular specification is chosen mainly out of convenience.
% that said, \cite{daly_hobijn_2013} do manage a reasonable reproduction of reality with this simplified setup.


Finally, to the purpose at hand, I assume that nominal wages are rigid in the downward direction.
In the spirit of \cite{calvo_1983}, every period a randomly selected group of individuals of measure $\lambda$ are not allowed to \emph{lower} their nominal wages.
The other $(1 - \lambda)$ individuals are free to choose whatever wage they please.
\subsection{Wage Setting}
\label{sub:wage_setting}

As a point of comparison for the rigid case, we'll start with perfect wage flexibility $(\lambda = 0)$.

Letting
\begin{equation}
    \label{eq:labor_part}
    \Omega( w_t(i); Z_t(i), L_t ) = w_{it}^{1 - \eta} - \frac{\gamma}{\gamma + 1}Z_t(i)\left[ w_{it}^{-\eta}L_t \right]^{\frac{\gamma}{1 + \gamma}}
\end{equation}

be the labor-related terms of an individual's problem, the optimal wage in the flexible case can can be attained by maximizing

\begin{equation}
    \label{eq:labor_opt}
    \mathbb{E}_t\left[\sum_{t=0}^{\infty}\beta^t \Omega( w_t(i); Z_t(i), L_t ) \right].
\end{equation}

subject to the budget constraint and the firm's labor demand schedule \ref{eq:labor_demand}.
Solving this gives the optimal real wage schedule as a function of your idiosyncratic shock and aggregate output:

\begin{equation}
    \label{eq:flex}
    \hat{w}(Z_t(i); L_t) = \hat{w}_{it} = \left( \frac{\eta}{\eta - 1} \right)^{\frac{\gamma}{\eta + \gamma}}\left( Z_t(i) \right)^{\frac{\gamma}{\eta + \gamma}} L_t^{\frac{\gamma + 1}{\gamma + \eta}}.
\end{equation}

We will use this schedule when solving for the optimal wage with rigidity.  %TODO: I think you mean eqm output.
% Consider going straight into equilibrium then looping back around to rigid case.

For the rigid case, $\lambda > 0$, our approach is slightly different.
Each day, our individual wakes up with his wage from yesterday.
He receives a labor preference shock, $Z_t(i)$, and finds out whether he is allowed to choose any nominal wage, or just a wage greater than or equal to yesterday's.
He then chooses a wage to optimize today's utility plus the discounted future value of holding that wage.
This can be written as a value function where the state variable is the real wage $w$:

\begin{multline}
    \label{eq:value_function}
    V_t(w) = (1 - \lambda) \int_{0}^{\infty} \max_{w_{it} \geq 0} \left\{ \Omega( w_t(i); Z_t(i), L_t ) + \beta V_{t+1}\left( \frac{w_{it}}{(1 + \pi_{t+1})} \right) \right\} \mathrm{d}F(Z_t(i)) \\
                + \lambda  \int_{0}^{\infty} \max_{w_{it} \geq w} \left\{ \Omega( w_t(i); Z_t(i), L_t ) + \beta V_{t+1}\left( \frac{w_{it}}{(1 + \pi_{t+1})} \right) \right\} \mathrm{d}F(Z_t(i))
\end{multline}

$F(\cdot)$ is the distribution of idiosyncratic shocks across individuals and $\pi_{t+1}$ is the inflation rate from time $t$ to $t+1$.

One thing to note: downward nominal wage rigidities clearly affect workers who fall into the second line of \ref{eq:value_function}, those who can't lower their wage below $w$.
But the workers on the first line are also affected.
If a worker received a high shock and followed the flexible wage schedule $\hat{w}(Z_t(i))$ they would choose a relatively high wage.
While that might be a good thing for today, it would ignore the possibility of receiving a low shock tomorrow, but not being able to lower the wage due to wage rigidity.
This effect tends to dampen the wage increases chosen by the $(1 - \lambda)$ unrestricted workers.
\cite{elsby_2009} investigates the importance of wage rigidity with an emphasis on this ``wage compression''.

\section{Monetary Policy}
\label{sec:monetary_policy}

To close the model up, the central bank follows a Taylor Rule to set the nominal interest rate $i_t$:

\begin{equation}
    \label{eq:taylor_rule}
    i_t = \frac{1 + \bar{\pi}}{\beta} \left( \frac{Y_t}{\bar{Y}} \right)^{\varphi_Y} \left( \frac{1 + \pi_t}{1 + \bar{\pi}} \right)^{1 + \varphi_{\pi}} - 1
\end{equation}

where $\phi_Y, \phi_{\pi} > 0$ govern the strength of the central bank's reaction to deviations from its target level of inflation, $\bar{\pi}$, and the steady-state output level $\bar{Y}$.
It's assumed that the zero lower bound on nominal rates will never bind.

\section{Equilibrium}
\label{sec:equilibrium}

With flexible wages, $\lambda = 0$, we can write the equilibrium level of output and employment in closed form.

\begin{equation}
    \label{eq:output_flexible}
    Y_t = L_t = \left( \frac{\eta - 1}{\eta} \right)^{\frac{\gamma}{1 + \gamma}} \left( \frac{1}{Z_t} \right)^{\frac{\gamma}{1 + \gamma}}
\end{equation}

where

\begin{align}
    Z_t =& \left( \int_{0}^{1}\! \left( \frac{1}{Z_t(i)} \right)^{\frac{\gamma(\eta - 1)}{\eta + \gamma}} \mathrm{d}i \right)^{-\frac{\eta + \gamma}{\gamma(\eta - 1)}}\\
        =& e^{-\frac{1}{2} \frac{\eta(1 + \gamma)}{\gamma + \eta}\sigma^2 }.
\end{align}

The last line follows from the specification that the idiosyncratic shocks $Z_t(i)$ are distributed lognoramlly.

For the rigid case, $\lambda > 0$, we need to keep track of which subset of individuals are constrained.
They can be broken into three groups.

The first group is those $(1 - \lambda)$ who are not constrained in the downward direction.
Since the restriction on who is allowed to lower his wage is entirely independent of your current wage or how long you've had that wage, this group is dispersed equally over the range of wages.

The second group is those who are not allowed to lower their wage, but draw an idiosyncratic shock such that they'd like to increase their wage anyway.
Due to the ``wage compression'' effect discussed earlier, where workers choose lower wages than in the flexible case, the workers in groups one and two may end up working more than they would if wages were completely flexible.
In this model, anticipation of not being able to lower your wage tomorrow induces a lower wage today, which leads to more hours worked today.

Finally, the third group is those who would like to lower their wage, but are not allowed to.
This group will work few hours than they would under the flexible case.

Using $G_t(w)$ to denote the cumulative distribution function of wages at time $t$, we can write the distribution of wages recursively:

\begin{equation}
    \label{eq:wage_distribution}
    G_t(w) = (1 - \lambda) F(z_t(w)) + \lambda G_{t-1}\left(w[1 + \pi_t]\right)F(z_t(w))
\end{equation}

With the distribution of wages in hand, we can solve for the output level with wage rigidity:

\begin{equation}
    \label{eq:output_rigid}
    Y_t = L_t = \left(\frac{\eta - 1}{\eta} \right)^{\frac{\gamma}{1 + \gamma}}\left( \frac{1}{Z_t^*} \right)^{\frac{\gamma}{1 + \gamma}}
\end{equation}

where

\begin{equation}
    \label{eq:z_star}
    \begin{split}
    Z_t^* &= \Big\{(1 - \lambda) \int_{0}^{\infty} \! \left( \frac{1}{Z} \right)^{\frac{\gamma(\eta - 1)}{\eta + \gamma}} \left( \frac{\hat{w}_t(Z)}{w_t(Z)} \right)^{\eta - 1}\ \mathrm{d}F(Z) \\
          &+            \lambda  \int_{0}^{\infty} \! \left( \frac{1}{Z} \right)^{\frac{\gamma(\eta - 1)}{\eta + \gamma}} \left( \frac{\hat{w}_t(Z)}{w_t(Z)} \right)^{\eta - 1} G_{t-1}\left( w_t(Z)[1 + \pi_t] \right)                                                     \ \mathrm{d}F(Z)\\
          &+            \lambda  \int_{0}^{\infty} \! \left( \frac{1}{Z} \right)^{\frac{\gamma(\eta - 1)}{\eta + \gamma}} \left[ \int_{w_t(Z)}^{\infty} (1 + \pi_t)g_{t-1}\left( w[1 + \pi_t] \right) \left( \frac{\hat{w}_t(Z)}{w} \right)^{\eta - 1}\ \mathrm{d}w \right] \ \mathrm{d}F(Z)
            \Big\}^{-\frac{\eta + \gamma}{\gamma(\eta - 1)}}
    \end{split}
\end{equation}

Comparing to the flexible-wage case given in \ref{eq:output_flexible}, the difference is in $Z_t$ and $Z_t^*$.
Let's consider two limiting cases.
First, as the degree of wage rigidity $\lambda$ goes to zero, only the first line of $Z_t^*$ is relevant.
When wages are flexible, the ratio $\frac{\hat{w}_t(Z)}{w_t(Z)}$ is one, since the wage schedule will be the flexible wage schedule $\hat{w}_t(Z)$.  % Holy batman awkward.
This leaves us with the definition of $Z_t$, and we're in the flexible case.

The other limiting case to consider is when inflation becomes large.
This case illustrates how inflation undoes some of the downward nominal wage rigidity.
With higher inflation fewer workers end up with a \emph{real} wage that is too high.
Anything below the limiting case of $G_t(w (1 + pi)) = 1$ ends up lowering output.

To derive \ref{eq:output_rigid} we've used the assumption of perfect competition in the final goods market, so that the real wage $\frac{W_t}{P_t}$ is one.

\section{Steady State}
\label{sec:steady_state}

One comparison to be made between the flexible and rigid cases is the distribution of wage changes.
Under the flexible case, log normality of the idiosyncratic shocks implies that log wage changes should be normally distributed with a mean equal to the quarterly inflation rate.
With rigid wages, however, a different picture emerges.
The most prominent change is a higher spike at zero, no wage change.
This spike is taking mass from either side: there are fewer wage decreases \emph{and} fewer wage increases.
But the two tails are not sliced from equally.
The distribution is now asymmetric with fewer wage decreases than increases.
% Insert comp to nomral here.
If we look at the change over, say, four periods, the distribution of change looks more normal.


\newpage
\bibliographystyle{apa}
\bibliography{citations}

\newpage
\appendix

\section{Derivations}

Setup the Household's problem as a Lagrangian:

\begin{equation}
    \label{eqa:houehold}
    \begin{split}
        \Lagr : \sum_{t=0}^{\infty} \beta^t \Big\{ \ln Y_t & - \frac{\gamma}{\gamma + 1} \int_{0}^{1} \! Z_t(i)L_t(i) \frac{\gamma + 1}{\gamma} \mathrm{d}i \\
                                                           & - \mu_t \left[ (1 + i_{t-1})A_{t-1} + \int_{0}^{1} \! W_t(i)L_t(i) \mathrm{d}i  - A_t - P_tY_t\right] \Big\}
    \end{split}
\end{equation}

where $\mu_t$ is the Lagrangian multiplier on the budget constraint.
From this we get the first order conditions:

\begin{equation}
\begin{aligned}
    \label{eqa:focs}
    \frac{\partial \Lagr}{\partial Y} & :   \ \ \ \ \ \ \ \ \  \frac{\beta^t}{Y_t} = \mu_t \beta^t P_t \Rightarrow \mu_t = \frac{1}{P_t Y_t} \\
    \frac{\partial \Lagr}{\partial A_t} & : \ \ \ \ \ \ \ \ \  \mu_t = (1 + i_t) \mu_{t + 1} \beta \Rightarrow \frac{1}{Y_t} = \beta (1 + r_t) \frac{1}{Y_{t+1}}
\end{aligned}
\end{equation}

where $r_t$ is the real wage, $\frac{1 + i_t}{1 + \pi_{t+1}} - 1$.

The firm's problem is typical of the Dixit-Stiglitz framework:

\begin{equation}
    \label{eqa:firms_problem}
    \begin{aligned}
        & \min
        & & \int_{0}^{1} \! W_t(i)L_t(i) \mathrm{d}i \\
        & \text{subject to}
        & & Y_t \geq Y
    \end{aligned}
\end{equation}

where $Y$ is some minimum level of output.  The first order condition gives

\begin{equation}
    \label{eqa:firms_foc}
    \begin{aligned}
        W_t(i) &= \mu_t L_t(i)^{-1 / \eta} \left[ \int_{0}^{1} \! L_t(i)^{\frac{\eta - 1}{\eta}} \mathrm{d}i \right]^{\frac{\eta}{\eta - 1}}\\
               &= \mu_t L_t(i)^{-1 / \eta} L_t^{1 / \eta}.
    \end{aligned}
\end{equation}

Integrate over $i$ and raise to the $1 - \eta$:

\begin{equation}
    \label{eqa:firms_foc2}
    \begin{aligned}
        \int_{0}^{1} \! W_t(i)^{1 - \eta} \mathrm{d}i &= \mu_t^{1 - \eta} \int_{0}^{1} \! L_t(i)^{-\frac{1 + \eta}{\eta}} \mathrm{d}i L_t^{\frac{1 - \eta}{\eta}}\\
                                                      &= \mu_t^{1 - \eta}
    \end{aligned}
\end{equation}

If we let $W = \mu_t = \left[ \int_{0}^{1} \! W_t(i)^{1 - \eta} \mathrm{d}i \right]^{\frac{1}{1 - \eta}}$ be the wage index, we find that:

\begin{equation}
    \label{eqa:firms_foc3}
    L_t(i) = \left(\frac{W_t(i)}{\mu_t L_t(i)}\right)^{-\eta} = L_t \left( \frac{W_t(i)}{W_t} \right)^{-\eta}
\end{equation}

which is the firm's labor demand schedule, \ref{eq:labor_demand}.
\section{Numerical Method}

Parts of my numerical method follows \cite{daly_hobijn_2013}.
I iterate upon the value function in \ref{eq:value_function} for a given level of output.
This yields the value function $V_t(w)$, wage schedule $w_(Z)$ and shock schedule, $Z_t(w)$.

I use a mixture of linear and cubic polynomials to approximate the value function $V_t(w)$, wage schedule $w_(Z)$ and shock schedule, $Z_t(w)$.


\section{Reproducibility}

All source files are available at this paper's \href{https://github.com/tomAugspurger/dnwr-zlb}{Github Page}.
It is compatible with \href{http://python.org/download/releases/2.7.5/}{Python 2.7}, and requires the following packages:


The results in this paper are mainly under the model directory.
The file to start at is `run\_value\_function'.
\end{document}
