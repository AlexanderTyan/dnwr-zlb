# Todo

- compute wage index
- ran HSvR type regression on durable vs. nondurable

### Today

[x] Compare my *median* avg. wage with his (mine's higher)
[ ] compare my resid wage with eqn 2 preceisly



# Data

## read_fwf education bug

For whatever reason, there are errors in the `cps_store` from `2007-01`to `2013-07`.

Example:

```python
In [62]: f[['PEEDUCA', 'PTDTRACE']][f['PEEDUCA'] > 100].head(3)
Out[62]:
                                  PEEDUCA  PTDTRACE
HRHHID          HRHHID2 PULINENO
4430790771694   80001   1             401        10
5610360998797   82001   1             401        13
10308600700134  81001   1             391        11
```

So the education values are wrong (should be 40, 40, 39), but the race variables are fine.
To see the correct values, extract the `2007-01` file (`7z x 2007_01.gz`). Then:

```shell
(pandas-dev) /V/H/U/t/D/C/monthly cat cpsb0701 | grep 10308600700134
010308600700134 12007 2201-1-1 1 1-1 1 2-1-1-1  34319778 1 5 1 6 2 0 281001    1 2-1-1-1 35637 000000003200000   -1 2 1-1360 1 2 1 2-1 23911-1 9-1 1-1 1 1 1 2 1 2 57 57 57 1 0 0 2 3 2 2-1 1-1 2-1-1-1-1-1-1 2 1-1-1-1-1-1-1-1 -1-1-1-1-1-1-1-1-1-1-1 -1-1-1   -1-1-1-1-1-1-1-1 2 1 1-1 1 52 1 3 2-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1 -1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1 1-1 0 2 2 1-1-1-1-1 52-1 1 311-1-1-1-1-1-1-1 4 4      -1-1      -1-1-1 1 2 4-1 1 6-1 4-119-1-1 3-1 7-1 5-1 1-1 0-1-1-1-1  -1  -1  -1  -10-1      -10-1-1      -1      -10-1-1-1-1-1-1-1-1-1-1-1-1-1  34319778  37491282         0  26487818  2517252611 3-1-1-1-1 0 0 1 0-1 050 0 0 0 0 1 0 0 0-1-1-1-1 0 0-1-1-1-1-1-1-1 1-1-1-1-1-1-1-1-1-1 0 0 0 0-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1 0 0 0-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-121436 1 1-1-1-1-1-1 0 1 1 1 1 1  25524721 7706600  -1  -1 3-1-1-1-1-1 0-1-1-1-1-15050 1 1 1                                            A
010308600700134 12007 2201-1-1 1 1-1 1 2-1-1-1  34319778 1 5 1 6 2 0 281001    1 2-1-1-1 35637 000000003200000   -1 2 3-1270 1 1 2 2-1 239 1-1 9-1 2-1 1 2 1 2 1 2 57 57 57 1 0 0 1 1 1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1 2-1-4-1 1 -4-1-1-1-1-1-1-1-146-1 46-1-1    2 3 6 1 2 3 5 2-1-1-1-1-1 -1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1 -1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1 1-119 1 1 1 7-1-1-1 -1-1-1 1 2-1-1-1-1-1-1-1 4 4      -1-1       2-1-1 1 2 4-1 1 5-150-114-1-112-1 3-1 2 1 1 1 0-1-1-1-1  -1  -1  -1  -10-1      -10-1-1      -1      -10-1-1-1-1-1-1-1-1-1-1-1-1-1  34319778  48521371         0  34319778  3389680511 3-1-1-1-1 0 0 1 0-1 050 0 0 0 0 1 0 0 0-1-1-1-1 0 0-1 1 1 0 1 0 140 0 1 1 1 0 1 0 1 1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-110 0 0-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-121436 2 1-1-1-1-1-1 0 1 1 1 1 1  3393793792904230  -1  -119-1-1-1-1-1 0-1-1-1-1-15050 1 1 1                                            A
010308600700134 12007 2201-1-1 1 1-1 1 2-1-1-1  34319778 1 5 1 6 2 0 281001    1 2-1-1-1 35637 000000003200000   -1 7 4 1 10-1-1 2-1-1-1-116-1 9-1 5-1 1 3 1 2-1 1 57 57 57 1 0 0-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1 -1-1-1-1-1-1-1-1-1-1-1 -1-1-1   -1-1-1-1-1-1-1-1-1-1-1-1-1 -1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1 -1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1 -1-1-1-1-1-1-1-1-1-1-1-1-1-1      -1-1      -1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1 0-1-1-1-1  -1  -1  -1  -10-1      -10-1-1      -1      -10-1-1-1-1-1-1-1-1-1-1-1-1-1  35812522         0         0  35812522         0-1-1-1-1-1-1 0 0 1 0-1 0 0 0 0 0 0-1 0 0 0-1-1-1-1 0-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-121436 5-1-1-1-1-1-1 0 0 0 0 0 0         0  -1  -1  -1  -1-1-1-1-1-1-1 1 1 2 1 1-1 0 0 0 0-1                                            A
010308600700134 12007 2201-1-1 1 1-1 1 2-1-1-1  34319778 1 5 1 6 2 0 281001    1 2-1-1-1 35637 000000003200000   -1 7 4 1 40-1-1 1-1-1-1-116-1 9-1 4-1 1 3 1 2-1 1 57 57 57 1 0 0-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1 -1-1-1-1-1-1-1-1-1-1-1 -1-1-1   -1-1-1-1-1-1-1-1-1-1-1-1-1 -1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1 -1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1 -1-1-1-1-1-1-1-1-1-1-1-1-1-1      -1-1      -1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1 0-1-1-1-1  -1  -1  -1  -10-1      -10-1-1      -1      -10-1-1-1-1-1-1-1-1-1-1-1-1-1  25452562         0         0  25452562         0-1-1-1-1-1-1 0 0 1 0-1 0 0 0 0 0 0-1 0 0 0-1-1-1-1 0-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-121436 4-1-1-1-1-1-1 0 0 0 0 0 0         0  -1  -1  -1  -1-1-1-1-1-1-1 1 1 2 1 1-1 0 0 0 0-1                                            A
010308600700134 12007 2201-1-1 1 1-1 1 2-1-1-1  34319778 1 5 1 6 2 0 281001    1 2-1-1-1 35637 000000003200000   -1 7 4 1 70-1-1 1-1-1-1-116-1 9-1 3-1 1 3 1 2-1 1 57 57 57 1 0 0-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1 -1-1-1-1-1-1-1-1-1-1-1 -1-1-1   -1-1-1-1-1-1-1-1-1-1-1-1-1 -1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1 -1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1 -1-1-1-1-1-1-1-1-1-1-1-1-1-1      -1-1      -1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1 0-1-1-1-1  -1  -1  -1  -10-1      -10-1-1      -1      -10-1-1-1-1-1-1-1-1-1-1-1-1-1  28463799         0         0  28463799         0-1-1-1-1-1-1 0 0 1 0-1 0 0 0 0 0 0-1 0 0 0-1-1-1-1 0-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-121436 3-1-1-1-1-1-1 0 0 0 0 0 0         0  -1  -1  -1  -1-1-1-1-1-1-1 1 1 2 1 1-1 0 0 0 0-1                                            A
```

The relavent columns are 1. Educataion: 137 and 138 and 2. Race: 139 and 140.
Under current HEAD: `0.13.0rc1`, this bug is fixed.

# Definitions of Durable/Non Durables:
source: http://www.bls.gov/news.release/prod2.tn.htm

Durables include the following 3-digit NAICS industries:
- wood product manufacturing                        ( 11 )
- nonmetallic mineral product manufacturing         ( 5  )
- primary metal manufacturing                       ( 6  )
- fabricated metal product manufacturing            ( 6  )
- machinery manufacturing                           ( 7  )
- computer and electronic product manufacturing     ( 8  )
- electrical equipment and appliance manufacturing  ( 9  )
- transportation equipment manufacturing            ( 10 )
- furniture and related product manufacturing       ( 12 )
- miscellaneous manufacturing.                      ( 13 )

Nondurables include:
- food manufacturing                                ( 14 )
- beverage and tobacco product manufacturing        ( 15 )
- textile mills                                     ( 16 ) ?
- textile product mills                             ( 16 ) ?
- apparel manufacturing                             ( 16 ) ?
- leather and allied product manufacturing          ( 16 ) ?
- paper manufacturing                               ( 17 )
- printing and related support activities           ( 17 )
- petroleum and coal products manufacturing         ( 18 )
- chemical manufacturing                            ( 19 )
- plastics and rubber products manufacturing.       ( 20 )

 Nonfinancial corporate output is a chain-type, current-weighted index
calculated on the basis of the costs incurred and the incomes earned from
production.  The output measure excludes the following outputs from GDP:
general government
- nonprofit institutions
- private households
-
unincorporated business
- and those corporations classified as offices of
bank holding companies, offices of other holding companies, or offices in
the finance and insurance sector. Nonfinancial corporations accounted for
about 49 percent of the value of GDP in 2012.
